2/17/11

VScope now works great with 0, 1, or 2 cameras. I would like it to work
with any number of cameras, and I would like to make it possible for those
cameras to have different resolutions and different frame rates.



For multiple camera pairs to live in peace together, the following
needs to happen:

- ROIData in DataTrove needs to be identified by a camera pair ID

- Introduce pairID = donorID+partnerID (e.g. "Cc.Ox"?)

- The static (donor/acceptor)flip(x/y) members of roi3data must
  become a map indexed by pairID. 

- ROIs across all pairs still remain in a single ROISet, but the
  ROISet must store the pairID for each ROI.

The ROI system is currently a little ugly in that ROI3Data and even
ROIData keep private copies of XYRRAs. It would be better if I
introduced a new data type ROICoords that can be either XYRRA or
PolyBlob, and have ROIData refer to a ROICoords object rather than to
embed it. Then, ROISet3Data would end up explicitly depending on a
ROISet for its db of coords. Which is how it should be.

Also, right now the ROIImages send out editedROI/etc signals to each
other and to VSDTraces. (Not to Coherence and CohGraph, because those
depend on VSDTraces to receive dataChanged signals, which is fine.)
ROIImages should not send out such signals. Instead, they should
request that the ROI be changed in the ROISet. The ROISet would then
signal the ROISet3Data, which would then signal the VSDTraces.

For cameras to have different resolutions and frame rates, the
following needs to happen:

- At GUI level, the relevant parameters (frame rate, binning, area)
  need to be segregated.

- In parameters.xml, those parameters need to become an array over
  camera IDs.

- With the current implementation of arrays, that would require the
  reintroduction of a CAMERAS enum, but perhaps I would rather have
  arrays defined with string keys. That might require a new mechanism
  for default values.

For vscope to happily load data acquired with a set of cameras
different from the current configuration, the following needs to
happen:

- The GUI needs to dynamically reconfigure the VSDxx items in the
  panelLeft and panelRight menus.

- The enum SHOWWHAT needs to dynamically add new cameras.

- The term "VSD" should be replaced by "CCD" where appropriate.

- CCD data formats are independent from cameras. That means that CCD
  data should have a source ID and resolution/rate information that
  can be quite separate from the cameras. Thus, loading "incompatible"
  data need not affect the Connections.

- The TrialData needs to update its set of CCD data IDs.

- The ROISets need to be keep track of CCD data IDs.
